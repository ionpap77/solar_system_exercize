<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Î—Î»Î¹Î±ÎºÏŒ Î£ÏÏƒÏ„Î·Î¼Î±</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Î’Î¬Î»Îµ Ï„Î¿Ï…Ï‚ Î Î»Î±Î½Î®Ï„ÎµÏ‚ ÏƒÏ„Î· Î£Ï‰ÏƒÏ„Î® Î˜Î­ÏƒÎ·! â˜€ï¸ğŸª</h1>

  <div id="space">
    <img id="background" src="images/background.jpg" alt="Î”Î¹Î¬ÏƒÏ„Î·Î¼Î±" />
    <img id="sun" src="images/Sun.gif" alt="Î‰Î»Î¹Î¿Ï‚" />

    <!-- ğŸ¯ Î˜Î­ÏƒÎµÎ¹Ï‚ ÏƒÏ„ÏŒÏ‡Ï‰Î½ (Î¯Î´Î¹Î± Î´Î¹Î¬Ï„Î±Î¾Î·/Î¿Î½ÏŒÎ¼Î±Ï„Î±) -->
    <div id="target1" class="target" style="left:15%; top:35%;"></div>
    <div id="target2" class="target" style="left:25%; top:35%;"></div>
    <div id="target3" class="target" style="left:35%; top:35%;"></div>
    <div id="target4" class="target" style="left:45%; top:35%;"></div>
    <div id="target5" class="target" style="left:55%; top:35%;"></div>
    <div id="target6" class="target" style="left:65%; top:35%;"></div>
    <div id="target7" class="target" style="left:75%; top:35%;"></div>
    <div id="target8" class="target" style="left:85%; top:35%;"></div>

    <!-- ğŸª Î Î»Î±Î½Î®Ï„ÎµÏ‚ (Î¯Î´Î¹Î± Î¿Î½ÏŒÎ¼Î±Ï„Î±/Î¼Î¿Î½Î¿Ï€Î¬Ï„Î¹Î± ÏŒÏ€Ï‰Ï‚ Î¶Î®Ï„Î·ÏƒÎµÏ‚) -->
    <img src="images/mercury.gif" id="mercury" class="planet" draggable="true" alt="Î•ÏÎ¼Î®Ï‚" />
    <img src="images/venus.gif" id="venus" class="planet" draggable="true" alt="Î‘Ï†ÏÎ¿Î´Î¯Ï„Î·" />
    <img src="images/earth.gif" id="earth" class="planet" draggable="true" alt="Î“Î·" />
    <img src="images/mars.gif" id="mars" class="planet" draggable="true" alt="Î†ÏÎ·Ï‚" />
    <img src="images/jupiter.gif" id="jupiter" class="planet" draggable="true" alt="Î”Î¯Î±Ï‚" />
    <img src="images/saturn.gif" id="saturn" class="planet" draggable="true" alt="ÎšÏÏŒÎ½Î¿Ï‚" />
    <img src="images/uranus.gif" id="uranus" class="planet" draggable="true" alt="ÎŸÏ…ÏÎ±Î½ÏŒÏ‚" />
    <img src="images/neptune.gif" id="neptune" class="planet" draggable="true" alt="Î Î¿ÏƒÎµÎ¹Î´ÏÎ½Î±Ï‚" />

    <div id="message"></div>
  </div>

  <!-- ğŸ”Š Î‰Ï‡Î¿Î¹ (Î¯Î´Î¹ÎµÏ‚ Î¿Î½Î¿Î¼Î±ÏƒÎ¯ÎµÏ‚) -->
  <audio id="sound-mercury" src="sounds/planet1_voice.mp3" preload="auto"></audio>
  <audio id="sound-venus"   src="sounds/planet2_voice.mp3" preload="auto"></audio>
  <audio id="sound-earth"   src="sounds/planet3_voice.mp3" preload="auto"></audio>
  <audio id="sound-mars"    src="sounds/planet4_voice.mp3" preload="auto"></audio>
  <audio id="sound-jupiter" src="sounds/planet5_voice.mp3" preload="auto"></audio>
  <audio id="sound-saturn"  src="sounds/planet6_voice.mp3" preload="auto"></audio>
  <audio id="sound-uranus"  src="sounds/planet7_voice.mp3" preload="auto"></audio>
  <audio id="sound-neptune" src="sounds/planet8_voice.mp3" preload="auto"></audio>
  <audio id="sound-finale"  src="sounds/finale.mp3" preload="auto"></audio>

  <script>
    // Map each planet to its correct target and sound element id
    const mapping = {
      mercury:  { target: 'target1', sound: 'sound-mercury' },
      venus:    { target: 'target2', sound: 'sound-venus'   },
      earth:    { target: 'target3', sound: 'sound-earth'   },
      mars:     { target: 'target4', sound: 'sound-mars'    },
      jupiter:  { target: 'target5', sound: 'sound-jupiter' },
      saturn:   { target: 'target6', sound: 'sound-saturn'  },
      uranus:   { target: 'target7', sound: 'sound-uranus'  },
      neptune:  { target: 'target8', sound: 'sound-neptune' }
    };

    const planets = Array.from(document.querySelectorAll('.planet'));
    const targets = Array.from(document.querySelectorAll('.target'));
    const container = document.getElementById('space');
    const msg = document.getElementById('message');
    const finale = document.getElementById('sound-finale');
    let placed = 0;

    // Random start positions (slightly higher so they don't get cut)
window.addEventListener('load', () => {
  planets.forEach((p) => {
    const xvw = 10 + Math.random() * 80; // 10..90 vw
    const yvh = 55 + Math.random() * 20; // 55..75 vh (Ï€Î¹Î¿ Ï€Î¬Î½Ï‰)
    p.style.left = xvw + 'vw';
    p.style.top  = yvh + 'vh';
  });
});

    // HTML5 drag
    planets.forEach(planet => {
      planet.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text/plain', planet.id);
      });
    });

    container.addEventListener('dragover', e => e.preventDefault());

    container.addEventListener('drop', e => {
      e.preventDefault();
      const id = e.dataTransfer.getData('text');
      const planet = document.getElementById(id);
      const rect = container.getBoundingClientRect();
      const x = ((e.clientX - rect.left) / rect.width) * 100;
      const y = ((e.clientY - rect.top) / rect.height) * 100;

      // Place near drop; will snap if over correct target
      planet.style.left = x + '%';
      planet.style.top  = y + '%';

      handleSnap(planet);
    });

    function handleSnap(planet) {
      const map = mapping[planet.id];
      if (!map) return;
      const target = document.getElementById(map.target);

      const cRect = container.getBoundingClientRect();
      const pRect = planet.getBoundingClientRect();
      const tRect = target.getBoundingClientRect();

      const overlap = !(pRect.right < tRect.left ||
                        pRect.left  > tRect.right ||
                        pRect.bottom < tRect.top ||
                        pRect.top > tRect.bottom);

      if (overlap) {
        // center planet on target
        const centerX = ((tRect.left - cRect.left) + tRect.width/2 - pRect.width/2);
        const centerY = ((tRect.top  - cRect.top ) + tRect.height/2 - pRect.height/2);
        const leftPerc = (centerX / cRect.width) * 100;
        const topPerc  = (centerY / cRect.height) * 100;
        planet.style.left = leftPerc + '%';
        planet.style.top  = topPerc + '%';

        if (!planet.classList.contains('correct')) {
          planet.classList.add('correct');
          target.classList.add('correct');
          planet.draggable = false;
          planet.style.pointerEvents = 'none';
          placed += 1;

          const s = document.getElementById(map.sound);
          if (s) { try { s.currentTime = 0; s.play(); } catch(e){} }
          msg.textContent = "ÎœÏ€ÏÎ¬Î²Î¿!";
          if (placed === planets.length) {
            msg.textContent = "ÎœÏ€ÏÎ¬Î²Î¿ Î¼Î¹ÎºÏÎ­ Î±ÏƒÏ„ÏÎ¿Î½Î±ÏÏ„Î·! ğŸš€ğŸŒ•";
            if (finale) { try { finale.currentTime = 0; finale.play(); } catch(e){} }
          }
        }
      } else {
        msg.textContent = "Î”Î¿ÎºÎ¯Î¼Î±ÏƒÎµ Î¾Î±Î½Î¬!";
      }
    }
  </script>
</body>
</html>
